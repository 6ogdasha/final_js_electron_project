<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
</head>
<body style="background-image:url('bg.jpg');background-size:  cover">
	<div class="col-5 pl-0 pr-0 bg-light mx-auto pt-2 pb-3">
		<div class="col-6 mt-3 bg-light mx-auto">
			<div class="row ">
				<div class="col-3 border ml-2 unit mx-auto" style="height:150px">
					<img src="o.png" style="display:none" class="o w-75">
					<img src="x.png" style="display:none" class="x w-75">
				</div>
				<div class="col-3 border ml-2 unit mx-auto" style="height:150px">
					<img src="o.png" style="display:none" class="o w-75">
					<img src="x.png" style="display:none" class="x w-75">
				</div>
				<div class="col-3 border ml-2 unit mx-auto" style="height:150px">
					<img src="o.png" style="display:none" class="o w-75">
					<img src="x.png" style="display:none" class="x w-75">
				</div>
			</div>
		</div>
		

		<div class="col-6 mt-3 bg-light mx-auto">
			<div class="row">
				<div class="col-3 border ml-2 unit mx-auto" style="height:150px">
					<img src="o.png" style="display:none" class="o w-75">
					<img src="x.png" style="display:none" class="x w-75">
				</div>
				<div class="col-3 border ml-2 unit mx-auto" style="height:150px">
					<img src="o.png" style="display:none" class="o w-75">
					<img src="x.png" style="display:none" class="x w-75">
				</div>
				<div class="col-3 border ml-2 unit mx-auto" style="height:150px">
					<img src="o.png" style="display:none" class="o w-75">
					<img src="x.png" style="display:none" class="x w-75">
				</div>
			</div>
		</div>
		
		<div class="col-6 mt-3 bg-light mx-auto">
			<div class="row">
				<div class="col-3 border ml-2 unit mx-auto" style="height:150px">
				<img src="o.png" style="display:none" class="o w-75">
					<img src="x.png" style="display:none" class="x w-75">
				</div>
				<div class="col-3 border ml-2 unit mx-auto" style="height:150px">
					<img src="o.png" style="display:none" class="o w-75">
					<img src="x.png" style="display:none" class="x w-75">
				</div>
				<div class="col-3 border ml-2 unit mx-auto" style="height:150px">
					<img src="o.png" style="display:none" class="o w-75">
					<img src="x.png" style="display:none" class="x w-75">
				</div>
			</div>
		</div>
		
	</div>
	<button class="btn invisible bg-info replay text-light font-weight-bold" style="position:absolute; left:50% top:20%; ">Повторить</button>
	<img src="pers.png" style="height:550px; position:absolute; left:25%">
	<button class="btn bg-info text-light font-weight-bold go_back"></button>
<script type="text/javascript">
	
	let arr_x = document.querySelectorAll(".x");
	let arr_o = document.querySelectorAll(".o");
	let btn_replay = document.querySelector(".replay");


	let units = document.querySelectorAll(".unit");

	let checking = [0,0,0,0,0,0,0,0,0];
	let checking_x = [0,0,0,0,0,0,0,0,0];
	let checking_o = [0,0,0,0,0,0,0,0,0];
	let check = 0;

	let bot = function(){
		let random_unit = Math.round(Math.random()*8);
		if (checking[random_unit] != 1){
			arr_x[random_unit].style.display = "block";
			checking[random_unit] = 1;
			checking_x[random_unit] = 1;
			if(checking_x[0] == 1 && checking_x[1] == 1 && checking_x[2] == 1){
				units[0].classList.add('bg-danger');
				units[1].classList.add('bg-danger');
				units[2].classList.add('bg-danger');
				setTimeout(function(){alert("хаха проиграл ты");btn_replay.classList.remove('invisible')},1000);
			} else if(checking_x[3] == 1 && checking_x[4] == 1 && checking_x[5] == 1){
				units[3].classList.add('bg-danger');
				units[4].classList.add('bg-danger');
				units[5].classList.add('bg-danger');
				setTimeout(function(){alert("хаха проиграл ты");btn_replay.classList.remove('invisible')},1000);
			} else if(checking_x[6] == 1 && checking_x[7] == 1 && checking_x[8] == 1){
				units[6].classList.add('bg-danger');
				units[7].classList.add('bg-danger');
				units[8].classList.add('bg-danger');
				setTimeout(function(){alert("хаха проиграл ты");btn_replay.classList.remove('invisible')},1000);
			} else if(checking_x[0] == 1 && checking_x[3] == 1 && checking_x[6] == 1){
				units[0].classList.add('bg-danger');
				units[3].classList.add('bg-danger');
				units[6].classList.add('bg-danger');
				setTimeout(function(){alert("хаха проиграл ты");btn_replay.classList.remove('invisible')},1000);
			} else if(checking_x[1] == 1 && checking_x[4] == 1 && checking_x[7] == 1){
				units[1].classList.add('bg-danger');
				units[4].classList.add('bg-danger');
				units[7].classList.add('bg-danger');
				setTimeout(function(){alert("хаха проиграл ты");btn_replay.classList.remove('invisible')},1000);
			} else if(checking_x[2] == 1 && checking_x[5] == 1 && checking_x[8] == 1){
				units[2].classList.add('bg-danger');
				units[5].classList.add('bg-danger');
				units[8].classList.add('bg-danger');
				setTimeout(function(){alert("хаха проиграл ты");btn_replay.classList.remove('invisible')},1000);
			} else if(checking_x[0] == 1 && checking_x[4] == 1 && checking_x[8] == 1){
				units[0].classList.add('bg-danger');
				units[4].classList.add('bg-danger');
				units[8].classList.add('bg-danger');
				setTimeout(function(){alert("хаха проиграл ты");btn_replay.classList.remove('invisible')},1000);
			} else if(checking_x[2] == 1 && checking_x[4] == 1 && checking_x[6] == 1){
				units[2].classList.add('bg-danger');
				units[4].classList.add('bg-danger');
				units[6].classList.add('bg-danger');
				setTimeout(function(){alert("хаха проиграл ты");btn_replay.classList.remove('invisible')},1000);
			}
		} else bot();	

	
	}

	
	for(let i = 0; i <= 8; i++){
		if (checking[i] != 1){
			units[i].onclick = function(){
				arr_o[i].style.display = "block";
				checking[i] = 1;
				checking_o[i] = 1;

				if(checking_o[0] == 1 && checking_o[1] == 1 && checking_o[2] == 1){
				units[0].classList.add('bg-success');
				units[1].classList.add('bg-success');
				units[2].classList.add('bg-success');
				setTimeout(function(){alert("изи победа");btn_replay.classList.remove('invisible')},1000);
				} else if(checking_o[3] == 1 && checking_o[4] == 1 && checking_o[5] == 1){
				units[3].classList.add('bg-success');
				units[4].classList.add('bg-success');
				units[5].classList.add('bg-success');
				setTimeout(function(){alert("изи победа");btn_replay.classList.remove('invisible')},1000);
				} else if(checking_o[6] == 1 && checking_o[7] == 1 && checking_o[8] == 1){
				units[6].classList.add('bg-success');
				units[7].classList.add('bg-success');
				units[8].classList.add('bg-success');
				setTimeout(function(){alert("изи победа");btn_replay.classList.remove('invisible')},1000);
				} else if(checking_o[0] == 1 && checking_o[3] == 1 && checking_o[6] == 1){
				units[0].classList.add('bg-success');
				units[3].classList.add('bg-success');
				units[6].classList.add('bg-success');
				setTimeout(function(){alert("изи победа");btn_replay.classList.remove('invisible')},1000);
				} else if(checking_o[1] == 1 && checking_o[4] == 1 && checking_o[7] == 1){
				units[1].classList.add('bg-success');
				units[4].classList.add('bg-success');
				units[7].classList.add('bg-success');
				setTimeout(function(){alert("изи победа");btn_replay.classList.remove('invisible')},1000);
				} else if(checking_o[2] == 1 && checking_o[5] == 1 && checking_o[8] == 1){
				units[2].classList.add('bg-success');
				units[5].classList.add('bg-success');
				units[8].classList.add('bg-success');
				setTimeout(function(){alert("изи победа");btn_replay.classList.remove('invisible')},1000);
				} else if(checking_o[0] == 1 && checking_o[4] == 1 && checking_o[8] == 1){
				units[0].classList.add('bg-success');
				units[4].classList.add('bg-success');
				units[8].classList.add('bg-success');
				setTimeout(function(){alert("изи победа");btn_replay.classList.remove('invisible')},1000);
				} else if(checking_o[2] == 1 && checking_o[4] == 1 && checking_o[6] == 1){
				units[2].classList.add('bg-success');
				units[4].classList.add('bg-success');
				units[6].classList.add('bg-success');
				setTimeout(function(){alert("изи победа");btn_replay.classList.remove('invisible')},1000);
				} else setTimeout(bot,1000);
				
			}
		}
		
	}

	let replay = function(){
		for(let i = 0; i <=8; i++){
			checking[i] = 0;
			checking_x[i] = 0;
			checking_o[i] = 0;
			units[i].classList.remove('bg-success');
			units[i].classList.remove('bg-danger');
			arr_x[i].style.display = "none";
			arr_o[i].style.display = "none";

		}
		btn_replay.classList.add('invisible')
	}
	btn_replay.onclick = function(){
		replay();
	}
	
</script>



</body>
</html>